<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Lexicon | spadesCBM Manual</title>
<meta name="author" content="Céline Boisvenue">
<meta name="generator" content="bookdown 0.43 with bs4_book()">
<meta property="og:title" content="Lexicon | spadesCBM Manual">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lexicon | spadesCBM Manual">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="css/style.css">
<meta name="description" content="If this is your first time encountering a model built within the SpaDES framework, you may be unfamiliar with several terms used in this manual. Here we offer a lexicon to help familiarize users...">
<meta property="og:description" content="If this is your first time encountering a model built within the SpaDES framework, you may be unfamiliar with several terms used in this manual. Here we offer a lexicon to help familiarize users...">
<meta name="twitter:description" content="If this is your first time encountering a model built within the SpaDES framework, you may be unfamiliar with several terms used in this manual. Here we offer a lexicon to help familiarize users...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="v. 0.1">spadesCBM Manual</a>:
        <small class="text-muted">v. 0.1</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="active" href="lexicon.html">Lexicon</a></li>
<li><a class="" href="cbm_defaults.html"><span class="header-section-number">1</span> CBM_defaults</a></li>
<li><a class="" href="cbm_dataprep_sk.html"><span class="header-section-number">2</span> CBM_dataPrep_SK</a></li>
<li><a class="" href="cbm_vol2biomass_sk.html"><span class="header-section-number">3</span> CBM_vol2biomass_SK</a></li>
<li><a class="" href="cbm_core.html"><span class="header-section-number">4</span> CBM_core</a></li>
<li><a class="" href="example-spadescbm-in-saskatchewan.html">Example: spadesCBM in Saskatchewan</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/PredictiveEcology/spadesCBM">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="lexicon" class="section level1 unnumbered">
<h1>Lexicon<a class="anchor" aria-label="anchor" href="#lexicon"><i class="fas fa-link"></i></a>
</h1>
<p>If this is your first time encountering a model built within the SpaDES framework, you may be unfamiliar with several terms used in this manual. Here we offer a lexicon to help familiarize users with terms and concepts relevant to spadesCBM. A more comprehensive guide and introduction to robust and nimble scientific workflows using SpaDES can be found <a href="https://predictiveecology.org/training/_book/">here</a>.</p>
<div id="basic-structure-of-a-spades-project" class="section level2 unnumbered">
<h2>Basic structure of a SpaDES project<a class="anchor" aria-label="anchor" href="#basic-structure-of-a-spades-project"><i class="fas fa-link"></i></a>
</h2>
<p>SpaDES projects aim to follow the principles of the PERFICT approach of <span class="citation">McIntire <em>et al.</em> (<a href="references.html#ref-mcintire2022">2022</a>)</span>. The PERFICT approach aims to <em>P</em>redict regularly frm models that are <em>E</em>valuated, <em>R</em>eusable, <em>F</em>reely accessible, and <em>I</em>nteroperable, and that are part of <em>C</em>ontinuous workflows that are <em>T</em>ested regularly. More information on how this approach fits within the SpaDES framework can be found <a href="https://predictiveecology.org/training/_book/intro.html">here</a>.<br>
Using modules allows us to break up a model’s code into meaningful themes and/or uses that can easily be moved, swapped or replaced. SpaDES projects use modules in its standardized structure to allow for this nimbleness. Each module defines its own metadata, identifying the inputs and outputs of the code, allowing R to connect the module with others.</p>
<div id="modules" class="section level3 unnumbered">
<h3>Modules<a class="anchor" aria-label="anchor" href="#modules"><i class="fas fa-link"></i></a>
</h3>
<p>In its simplest form, a SpaDES module is comprised of R code that has metadata that gets put into functions.</p>
</div>
<div id="metadata" class="section level3 unnumbered">
<h3>Metadata<a class="anchor" aria-label="anchor" href="#metadata"><i class="fas fa-link"></i></a>
</h3>
<p>inputs and outputs are described in the metadata of the module.</p>
</div>
<div id="events" class="section level3 unnumbered">
<h3>Events<a class="anchor" aria-label="anchor" href="#events"><i class="fas fa-link"></i></a>
</h3>
<p>The functions of the module can be further subdivided into events. These events are scheduled in the module to be run one or many times.</p>
</div>
<div id="inputobjects" class="section level3 unnumbered">
<h3>
<code>.inputObjects()</code><a class="anchor" aria-label="anchor" href="#inputobjects"><i class="fas fa-link"></i></a>
</h3>
<p>This function is found at the end of a module’s script. This is where default inputs are supplied. For most default inputs in spadesCBM, the module will check if a user has supplied their own input, and if not, will use the default described in the module’s <code>.inputObjects()</code> call.</p>
</div>
<div id="simlist" class="section level3 unnumbered">
<h3>Simlist<a class="anchor" aria-label="anchor" href="#simlist"><i class="fas fa-link"></i></a>
</h3>
<p>Objects cannot be shared across modules unless they are added to the simlist. It is a rich data object that acts like a list or an environment. All outputs of a module or model are added to this simlist.</p>
</div>
<div id="prepinputs" class="section level3" number="0.0.1">
<h3>
<span class="header-section-number">0.0.1</span> <code>prepInputs()</code><a class="anchor" aria-label="anchor" href="#prepinputs"><i class="fas fa-link"></i></a>
</h3>
<p>This function is used to prepare R objects from remote (usually URLs) or local data sources. This enables easily repeatable continuous workflows and facilitates commonly used steps for getting, loading, and processing data. More information on the function and how it can be used with SpaDES-related projects can be found <a href="https://predictiveecology.org/training/_book/prepInputs.html">here</a>.</p>
</div>
</div>
<div id="running-a-global-script" class="section level2 unnumbered">
<h2>Running a global script<a class="anchor" aria-label="anchor" href="#running-a-global-script"><i class="fas fa-link"></i></a>
</h2>
<div id="the-setupproject-function" class="section level3 unnumbered">
<h3>The <code>setupProject()</code> function<a class="anchor" aria-label="anchor" href="#the-setupproject-function"><i class="fas fa-link"></i></a>
</h3>
<p><code>setupProject()</code> is a function in the <code>SpaDES.project</code> package. It allows the user to set a variety of options before running. When run, <code>setupProject</code> does a series of very specific things in a particular order to reduce the chances of package conflicts and user errors.
In spadesCBM, we use our <code>setupProject()</code> call to select the modules to run and their respective GitHub branches, project paths, caching and saving options,our python options and download, and certain project specific input objects.
to learn more about the <code>SpaDES.project</code> package and <code>setupProject()</code> you can view the training chapter <a href="https://predictiveecology.org/training/_book/workflowSimple2.html">here</a>.</p>
</div>
<div id="the-siminitandspades2-function" class="section level3 unnumbered">
<h3>The <code>simInitAndSpades2()</code> function<a class="anchor" aria-label="anchor" href="#the-siminitandspades2-function"><i class="fas fa-link"></i></a>
</h3>
<p>Once we have run our <code>setupProject()</code> call, we can run our model using <code>simInitAndSpades2()</code>. One of the outputs of this function is the simlist, allowing the user to view all outputs from their simulation.</p>
</div>
<div id="folder-structure-of-a-spades-module" class="section level3 unnumbered">
<h3>Folder structure of a SpaDES module<a class="anchor" aria-label="anchor" href="#folder-structure-of-a-spades-module"><i class="fas fa-link"></i></a>
</h3>
<p>Our spadesCBM modules use the basic folder structure for all SpaDES modules. Each have their respective <code>.R</code> scripts, an <code>.Rmd</code> file with their documentation used in this manual, and a <code>tests</code> folder containing the module’s tests. Some will also have an <code>R</code> folder containing other scripts that get sourced when running the module. These can include basic functions used in the module or the creation of default objects only used when the user doesn’t provide a specific input.</p>
</div>
</div>
<div id="spadescbm-and-carbon-terms" class="section level2 unnumbered">
<h2>spadesCBM and carbon terms<a class="anchor" aria-label="anchor" href="#spadescbm-and-carbon-terms"><i class="fas fa-link"></i></a>
</h2>
<div id="cbm-cfs3-vs-spadescbm" class="section level3" number="0.0.2">
<h3>
<span class="header-section-number">0.0.2</span> CBM-CFS3 vs spadesCBM<a class="anchor" aria-label="anchor" href="#cbm-cfs3-vs-spadescbm"><i class="fas fa-link"></i></a>
</h3>
<p>The Carbon Budget Model of the Canadian Forest Sector <a href="https://natural-resources.canada.ca/climate-change/climate-change-impacts-forests/carbon-budget-model">CBM-CFS3</a> is the windows-based framework currently used for the international reporting of Canada’s managed forests. It is aspatial and windows-based. spadesCBM is a SpaDES implementation of the logic, structure, and defaults assumptions of the Carbon Budget Model <a href="https://natural-resources.canada.ca/climate-change/climate-change-impacts-forests/generic-carbon-budget-model">CBM</a>. It is spatially explicit and built in R with calls to Python functions.</p>
</div>
<div id="spinup" class="section level3" number="0.0.3">
<h3>
<span class="header-section-number">0.0.3</span> Spinup<a class="anchor" aria-label="anchor" href="#spinup"><i class="fas fa-link"></i></a>
</h3>
<p>A more in-depth explanation of the spinup function can be found <a href="https://predictiveecology.github.io/spadesCBM/index.html#the-spinup-function">here</a> and <a href="https://predictiveecology.github.io/spadesCBM/cbm_core.html#events-1">here (incomplete)</a>.</p>
</div>
<div id="ecozone-vs-spatial-unit" class="section level3" number="0.0.4">
<h3>
<span class="header-section-number">0.0.4</span> Ecozone vs spatial unit<a class="anchor" aria-label="anchor" href="#ecozone-vs-spatial-unit"><i class="fas fa-link"></i></a>
</h3>
<p>In Canada, there are 15 distinct terrestrial ecozones. spadesCBM uses this classification. These represent large ecosystems with specific climate and vegetation, regardless of jurisdiction.<br>
Spatial units are more specific than ecozones, and correspond to the unique combination of jurisdiction (i.e. province or territory) and ecozone.</p>
</div>
<div id="cohort-groups" class="section level3" number="0.0.5">
<h3>
<span class="header-section-number">0.0.5</span> Cohort groups<a class="anchor" aria-label="anchor" href="#cohort-groups"><i class="fas fa-link"></i></a>
</h3>
<p>To simplify and optimize our simulations, we group individual pixels into <code>cohortGroupID</code> in which each group corresponds to a unique set of age, growth curve, spatial unit, and ecozone.
A more in-depth description of cohort groups in spadesCBM can be found <a href="https://predictiveecology.github.io/spadesCBM/cbm_core.html#pixel-groups-1">here</a>.</p>
</div>
<div id="source_pool-and-sink_pool" class="section level3" number="0.0.6">
<h3>
<span class="header-section-number">0.0.6</span> source_pool and sink_pool<a class="anchor" aria-label="anchor" href="#source_pool-and-sink_pool"><i class="fas fa-link"></i></a>
</h3>
<p>Every carbon transfer in spadesCBM occurs between two pools. One pool is the source and transfers its carbon to the sink. A specific pool is generally not tied to one or the other and can be a source in one carbon transfer and a sink in another. in spadesCBM, this is calculated by proportions, with a proportion of one pool moving to another pool, with proportions adding to 1 so that no carbon is lost.</p>
</div>
<div id="masterraster" class="section level3" number="0.0.7">
<h3>
<span class="header-section-number">0.0.7</span> masterRaster<a class="anchor" aria-label="anchor" href="#masterraster"><i class="fas fa-link"></i></a>
</h3>
<p>In spadesCBM, our study area is defined by the <code>masterRaster</code> object. This object can be directly provided as a raster, created from a shapefile, or by any other means. In our example, it is provided as a raster file in our global script. Refer to our <a href="https://predictiveecology.github.io/spadesCBM/example-spadescbm-in-saskatchewan.html#running-the-simulation">Example</a> chapter to view how it the <code>masterRaster</code> is provided in our example.</p>
</div>
<div id="cbmadmin" class="section level3" number="0.0.8">
<h3>
<span class="header-section-number">0.0.8</span> cbmAdmin<a class="anchor" aria-label="anchor" href="#cbmadmin"><i class="fas fa-link"></i></a>
</h3>
<p>This data table provides ecozone and spatial unit information for provincial boundaries. It is provided to help users with the equivalence between provincial and territorial boundaries, ecozones, and spatial unit IDs.</p>
</div>
<div id="net-primary-productivity-npp" class="section level3" number="0.0.9">
<h3>
<span class="header-section-number">0.0.9</span> Net Primary Productivity (NPP)<a class="anchor" aria-label="anchor" href="#net-primary-productivity-npp"><i class="fas fa-link"></i></a>
</h3>
<p>NPP is defined as the amount of CO<sub>2</sub> removed from the atmosphere and absorbed by the forest to maintain itself.</p>
</div>
<div id="cbmpools" class="section level3" number="0.0.10">
<h3>
<span class="header-section-number">0.0.10</span> cbmPools<a class="anchor" aria-label="anchor" href="#cbmpools"><i class="fas fa-link"></i></a>
</h3>
<p>This table is an output of spadesCBM. It provides carbon in MgC for all cohort groups and pools after each simulation year (or as prescribed if the simulations are very long).</p>
</div>
<div id="dead-organic-matter" class="section level3" number="0.0.11">
<h3>
<span class="header-section-number">0.0.11</span> Dead Organic Matter<a class="anchor" aria-label="anchor" href="#dead-organic-matter"><i class="fas fa-link"></i></a>
</h3>
<p>spadesCBM models carbon in the live component of the forest (i.e. trees) and its dead organic matter (DOM). DOM carbon pools in spadesCBM include all snag pools (which include dead stems, bark, branches, stumps) and all organic soil carbon pools.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html">Overview</a></div>
<div class="next"><a href="cbm_defaults.html"><span class="header-section-number">1</span> CBM_defaults</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#lexicon">Lexicon</a></li>
<li>
<a class="nav-link" href="#basic-structure-of-a-spades-project">Basic structure of a SpaDES project</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#modules">Modules</a></li>
<li><a class="nav-link" href="#metadata">Metadata</a></li>
<li><a class="nav-link" href="#events">Events</a></li>
<li><a class="nav-link" href="#inputobjects">.inputObjects()</a></li>
<li><a class="nav-link" href="#simlist">Simlist</a></li>
<li><a class="nav-link" href="#prepinputs"><span class="header-section-number">0.0.1</span> prepInputs()</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#running-a-global-script">Running a global script</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#the-setupproject-function">The setupProject() function</a></li>
<li><a class="nav-link" href="#the-siminitandspades2-function">The simInitAndSpades2() function</a></li>
<li><a class="nav-link" href="#folder-structure-of-a-spades-module">Folder structure of a SpaDES module</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#spadescbm-and-carbon-terms">spadesCBM and carbon terms</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#cbm-cfs3-vs-spadescbm"><span class="header-section-number">0.0.2</span> CBM-CFS3 vs spadesCBM</a></li>
<li><a class="nav-link" href="#spinup"><span class="header-section-number">0.0.3</span> Spinup</a></li>
<li><a class="nav-link" href="#ecozone-vs-spatial-unit"><span class="header-section-number">0.0.4</span> Ecozone vs spatial unit</a></li>
<li><a class="nav-link" href="#cohort-groups"><span class="header-section-number">0.0.5</span> Cohort groups</a></li>
<li><a class="nav-link" href="#source_pool-and-sink_pool"><span class="header-section-number">0.0.6</span> source_pool and sink_pool</a></li>
<li><a class="nav-link" href="#masterraster"><span class="header-section-number">0.0.7</span> masterRaster</a></li>
<li><a class="nav-link" href="#cbmadmin"><span class="header-section-number">0.0.8</span> cbmAdmin</a></li>
<li><a class="nav-link" href="#net-primary-productivity-npp"><span class="header-section-number">0.0.9</span> Net Primary Productivity (NPP)</a></li>
<li><a class="nav-link" href="#cbmpools"><span class="header-section-number">0.0.10</span> cbmPools</a></li>
<li><a class="nav-link" href="#dead-organic-matter"><span class="header-section-number">0.0.11</span> Dead Organic Matter</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/PredictiveEcology/spadesCBM/blob/main/Lexicon.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/PredictiveEcology/spadesCBM/edit/main/Lexicon.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>spadesCBM Manual</strong>: v. 0.1" was written by Céline Boisvenue. It was last built on 26 June 2024.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
